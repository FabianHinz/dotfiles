#!/bin/zsh

sxhkd &

ws1=desktop
ws2=browse
ws3=code
ws4=edit
ws5=cli
ws6=media
ws7=communicate
ws8=8
ws9=9
ws0=0

bspc config border_width          2
bspc config window_gap            5
bspc config top_padding           30

MONITORS=$(xrandr -q | grep "*" | wc -l)

if [ "$MONITORS" -eq 2 ]; then
  xrandr --output HDMI3  --primary --auto --output HDMI2 --auto --right-of HDMI3
  bspc monitor HDMI3 -d $ws1 $ws2 $ws3 $ws6 $ws7
  bspc monitor HDMI2 -d $ws4 $ws5
  bspc monitor LVDS1 -r
elif [ "$MONITORS" -eq 1 ]; then
  xrandr --output LVDS1 --primary --auto
  bspc monitor LVDS1 -d $ws1 $ws2 $ws3 $ws6 $ws7 $ws4 $ws5
  bspc monitor HDMI3 -r
  bspc monitor HDMI2 -r
fi

bspc config split_ratio           0.52
bspc config single_monocle        true
bspc config borderless_monocle    true
bspc config gapless_monocle       true
bspc config focus_by_distance     true
bspc config history_aware_focus   true
bspc config focus_follows_pointer false
bspc config pointer_follows_focus false
bspc config click_to_focus        true
bspc config adaptive_raise        true

bspc rule -a Firefox desktop=^2
bspc rule -a rocket.chat desktop=^4
bspc rule -a Thunderbird desktop=^5
bspc rule -a Gimp state=floating follow=on
bspc rule -a lxappearance state=floating
bspc rule -a VirtualBox state=floating

xrdb ~/.Xresources
feh --bg-fill --recursive ~/Pictures/Wallpapers/0040.jpg &
compton -b &
$HOME/.config/polybar/launch.sh
udiskie -q &
xss-lock -- physlock -sm &
