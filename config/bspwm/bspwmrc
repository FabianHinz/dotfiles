#!/bin/zsh

sxhkd &

ws1=desktop
ws2=chat
ws3=mail
ws4=browse
ws5=code
ws6=edit
ws7=cli
ws8=media
ws9=9
ws0=0

bspc config border_width          2
bspc config window_gap            5

MONITORS=$(xrandr -q | grep "*" | wc -l)

if [ "$MONITORS" -eq 3 ]; then
  xrandr --output HDMI-2  --primary --auto --output HDMI-3 --auto --right-of HDMI-2 --output LVDS-1 --auto --left-of HDMI-2
  bspc monitor LVDS-1 -d $ws1 $ws7 $ws6
  bspc monitor HDMI-2 -d $ws2 $ws3
  bspc monitor HDMI-3 -d $ws4 $ws5
elif [ "$MONITORS" -eq 2 ]; then
  xrandr --output HDMI-2  --primary --auto --output HDMI-3 --auto --right-of HDMI-2
  bspc monitor HDMI-2 -d $ws1 $ws2 $ws3 $ws6 $ws7
  bspc monitor HDMI-3 -d $ws4 $ws5
  bspc monitor LVDS-1 -r
  bspc monitor HDMI-2 -s HDMI-3
elif [ "$MONITORS" -eq 1 ]; then
  xrandr --output LVDS-1 --primary --auto
  bspc monitor LVDS-1 -d $ws1 $ws2 $ws3 $ws6 $ws7 $ws4 $ws5
  bspc monitor HDMI-2 -r
  bspc monitor HDMI-3 -r
fi

bspc config split_ratio           0.52
bspc config single_monocle        true
bspc config borderless_monocle    true
bspc config gapless_monocle       true
bspc config focus_by_distance     true
bspc config history_aware_focus   true
bspc config focus_follows_pointer false
bspc config pointer_follows_focus false
bspc config click_to_focus        true
bspc config adaptive_raise        true

bspc rule -a Firefox desktop=$ws2
bspc rule -a rocket.chat desktop=$ws6
bspc rule -a Thunderbird desktop=$ws7
bspc rule -a lxappearance state=floating
bspc rule -a VirtualBox state=floating

xrdb ~/.Xresources
feh --bg-fill --recursive ~/Pictures/Wallpapers/0040.jpg &
compton -b &
$HOME/.config/polybar/launch.sh
udiskie -q &
xss-lock -- physlock -sm &
